---
title: "ğŸ‘©â€ğŸ’»Orbit Exising Scripts"
toc: true
number-sections: true
date: "2023-04-23"
description: Isaac Orbit Series 002
categories: [orbit, isaacsim, code]
callout-appearance: default
fig-cap-location: top
image: ../../images/2023-04-23-orbit-existing-scripts/orbit2-5.png
execute:
  freeze: auto 
---

Orbit ì‹œë¦¬ì¦ˆì˜ ë‘ë²ˆì§¸ í¬ìŠ¤íŒ…ìœ¼ë¡œ ì´ë²ˆì—ëŠ” Orbitì—ì„œ ì œê³µí•˜ëŠ” scriptsë¥¼ ì‚´í´ë³´ë©° Orbitìœ¼ë¡œ ì–´ë–¤ í”„ë¡œê·¸ë˜ë°ì„ í•  ìˆ˜ ìˆì„ì§€ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤. ê³µì‹ Documentsì—ì„œ [Running existing scripts](https://isaac-orbit.github.io/orbit/source/setup/sample.html#)ë¥¼ ë”°ë¼ê°€ë³´ë©° ì§„í–‰ë  ì˜ˆì •ì…ë‹ˆë‹¤.

# API Demos

Orbitì˜ ë©”ì¸ ê¸°ëŠ¥ë“¤ì„ ì œê³µí•˜ëŠ” ëª¨ë“ˆì€ `omni.isaac.orbit` ì…ë‹ˆë‹¤. í•´ë‹¹ ëª¨ë“ˆì—ì„œëŠ” ë¡œë´‡ë“¤ì˜ actuatorë‚˜ object, sensor ë“±ì„ í¸í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” interfaceë¥¼ ì œê³µí•˜ê³  ìˆìŠµë‹ˆë‹¤. [ì•ì„  ì‹œë¦¬ì¦ˆ í¬ìŠ¤íŒ…](https://curieuxjy.github.io/posts/code/2023-04-04-insatll-orbit.html)ì—ì„œ ê°„ë‹¨í•˜ê²Œ 4ì¡± ë³´í–‰ë¡œë´‡ë“¤ì„ ë„ì›Œë³´ëŠ” scriptë¥¼ ì‹¤í–‰ ì‹œì¼œë³´ì•˜ì—ˆëŠ”ë° ì´ì™€ ê°™ì€ `standlone/demo`ì—ì„œ ì œê³µí•˜ëŠ” ëª‡ê°€ì§€ ì˜ˆì œë“¤ì„ ì‹¤í–‰í•´ë³´ê² ìŠµë‹ˆë‹¤.

::: {.callout-caution }
# ì˜ˆì œ íŒŒì¼ ìœ„ì¹˜ì™€ ì‹¤í–‰ ì „ì œ

Orbit ì‹œë¦¬ì¦ˆ í¬ìŠ¤íŒ…ì„ ê¸°ë°˜ìœ¼ë¡œ ì´ì „ í¬ìŠ¤íŒ…ì— ì´ì–´ì„œ ì§„í–‰ë˜ëŠ” í¬ìŠ¤íŒ…ì´ë¯€ë¡œ `Orbit` íŒŒì¼ì„ Githubì—ì„œ ë‹¤ìš´ë°›ê³  orbit ì„¤ì¹˜ë¥¼ ì „ì œë¡œ ì§„í–‰ë©ë‹ˆë‹¤. ì´ì „ì— Orbit repositoryë¥¼ ë‹¤ìš´ ë°›ì€ ìœ„ì¹˜ì—ì„œ ì§„í–‰í•´ì£¼ì„¸ìš”. orbit ì‹¤í–‰ ëª…ë ¹ì–´ë„ `orbit`ìœ¼ë¡œ ë™ì¼í•©ë‹ˆë‹¤. `-p` ì˜µì…˜ì€ Isaac Simì˜ python.shë¥¼ ì‚¬ìš©í•˜ì—¬ python íŒŒì¼ì„ ì‹¤í–‰ì‹œí‚¤ë„ë¡ í•˜ëŠ” ì˜µì…˜ì…ë‹ˆë‹¤.
:::

- 4ì¡± ë³´í–‰ ë¡œë´‡ë“¤ì„ ë†“ê³  ë°œ(feet) markerë¥¼ ì‹œê°í™”í•˜ê³  stadning poseë¥¼ ìœ ì§€í•˜ë„ë¡ position commandë¥¼ ì ìš©ì‹œí‚¨ ì˜ˆì œ

    ```
    orbit -p source/standalone/demo/play_quadrupeds.py
    ```

    <img src="../../images/2023-04-23-orbit-existing-scripts/orbit2-5.png" alt="orbit2-5" style="zoom:50%;" />


- 2ëŒ€ì˜ Franka ë§¤ë‹ˆí“°ë ˆì´í„°ë¥¼ ë†“ê³  ëœë¤í•œ position commandë¥¼ ì ìš©ì‹œì¼œì„œ ì›€ì§ì´ê²Œ í•˜ëŠ” ì˜ˆì œ

    ```
    orbit -p source/standalone/demo/play_arms.py --robot franka_panda
    ```

    <img src="../../images/2023-04-23-orbit-existing-scripts/orbit2-1.png" alt="orbit2-1" style="zoom:50%;" />

- 128ëŒ€ì˜ Franka ë§¤ë‹ˆí“°ë ˆì´í„°ë¥¼ ë†“ê³  inverse kinematics controllerë¥¼ ì´ìš©í•˜ì—¬ ì œì–´í•˜ëŠ” ì˜ˆì œ

    ```
    orbit -p source/standalone/demo/play_ik_control.py --robot franka_panda --num_envs 128
    ```

    <img src="../../images/2023-04-23-orbit-existing-scripts/orbit2-2.png" alt="orbit2-2" style="zoom:50%;" />

- ì¹´ë©”ë¼ë¥¼ ì„¤ì •í•˜ê³  pointcloudë¥¼ ì–»ëŠ” ì˜ˆì œ(cpuì™€ gpu ì„ íƒê°€ëŠ¥)

    ```
    # CPU
    orbit -p source/standalone/demo/play_camera.py
    # GPU
    orbit -p source/standalone/demo/play_camera.py --gpu
    ```

    <img src="../../images/2023-04-23-orbit-existing-scripts/orbit2-3.png" alt="orbit2-3" style="zoom:50%;" />

# Code ì‚´í´ë³´ê¸°

ì•ì˜ ì˜ˆì œì½”ë“œë“¤ ì¤‘ `source/standalone/demo/play_quadrupeds.py`ë¥¼ í•˜ë‚˜ì”© ì½”ë“œë¥¼ ì‚´í´ë³´ë©° orbitì—ì„œ ì–´ë–¤ ëª¨ë“ˆë“¤ì„ ì œê³µí•˜ëŠ”ì§€ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤. í•´ë‹¹ ì˜ˆì œì—ì„œëŠ” 3ì¢…ë¥˜ì˜ 4ì¡± ë³´í–‰ë¡œë´‡ì„ ë¶ˆëŸ¬ì™€ ì§„í–‰í•˜ëŠ”ë° ê° ë¡œë´‡ì˜ í”Œë«í¼ì— ëŒ€í•´ ê¶ê¸ˆí•˜ì‹  ë¶„ë“¤ì€ ì•„ë˜ ë§í¬ë¥¼ ëˆŒëŸ¬ì„œ í™•ì¸í•´ë³´ì‹œë©´ ë©ë‹ˆë‹¤.

* [ANYmal-B](https://github.com/ANYbotics/anymal_b_simple_description) (from ANYbotics)
* [ANYmal-C](https://github.com/ANYbotics/anymal_c_simple_description) (from ANYbotics)
* [A1](https://unitreerobotics.net/robotdog/unitree-a1/) (from Unitree Robotics)

## Modules

Orbitì´ ê¸°ë°˜í•˜ê³  ìˆëŠ” Isaac Sim Simulatorì„ ë¨¼ì € í‚¤ê¸° ìœ„í•´ `SimulationApp` classë¥¼ ì´ìš©í•˜ì—¬ ì‹œë®¬ë ˆì´í„° ì•±ì„ ì„¤ì •í•´ì¤ë‹ˆë‹¤. ì´ë•Œ `headless`ëŠ” ì‹œë®¬ë ˆì´í„°ì˜ GUIë¥¼ ë„ìš°ì§€ ì•Šê³  ì‹¤í–‰í•˜ëŠ” ì˜µì…˜ì„ ê°€ë¦¬í‚µë‹ˆë‹¤.

```python
"""Launch Isaac Sim Simulator first."""

from omni.isaac.kit import SimulationApp

import argparse
# add argparse arguments
parser = argparse.ArgumentParser("Welcome to Orbit: Omniverse Robotics Environments!")
parser.add_argument("--headless", action="store_true", default=False, help="Force display off at all times.")
args_cli = parser.parse_args()

# launch omniverse app
config = {"headless": args_cli.headless}
simulation_app = SimulationApp(config)
```

ë‹¤ìŒìœ¼ë¡œ importí•˜ëŠ” orbitì˜ `core`ëª¨ë“ˆì„ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.

- `prim_utils` : í˜„ì¬ USD stageì— primì„ ìƒì„±í•˜ê¸° ìœ„í•œ ëª¨ë“ˆ. (ìì„¸í•œ primì— ëŒ€í•œ ë‚´ìš©ì€ ë‹¤ìŒ í¬ìŠ¤íŒ…ì—ì„œ ë‹¤ë£¨ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤. ìš°ì„  ê°„ë‹¨í•˜ê²Œ ì‹œë®¬ë ˆì´í„°ì˜ ì˜¤ë¸Œì íŠ¸ë“¤ì„ `prim`ìœ¼ë¡œ ë³¸ë‹¤ê³  ìƒê°í•˜ê³  ì§„í–‰í•˜ê² ìŠµë‹ˆë‹¤.)

- `SimulationContext` : íƒ€ì„ë¼ì¸ ê´€ë ¨ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•˜ê³ (simulator ì¼ì‹œ ì¤‘ì§€, ì¬ìƒ, ë‹¨ê³„ì  ì‹¤í–‰ ë˜ëŠ” ì¤‘ì§€ ë“±), stageë¥¼ êµ¬ì„±í•˜ë©°(stage ë‹¨ìœ„ë‚˜ ìƒ/í•˜ ë°©í–¥ê³¼ ê°™ì€ ì„¤ì •), `physicsScene` primì„ ìƒì„±í•©ë‹ˆë‹¤(ì¤‘ë ¥ ë°©í–¥ ë° í¬ê¸°, ì‹œë®¬ë ˆì´ì…˜ ì‹œê°„ ê°„ê²© í¬ê¸°, ê³ ê¸‰ ì†”ë²„ ì•Œê³ ë¦¬ì¦˜ ì„¤ì •ê³¼ ê°™ì€ ë¬¼ë¦¬ ì‹œë®¬ë ˆì´ì…˜ ë§¤ê°œ ë³€ìˆ˜ë¥¼ ì œê³µ). ì—¬ê¸°ì„œ `physicsScene` primì€ ë¬¼ë¦¬ ì‹œë®¬ë ˆì´ì…˜ì„ ìœ„í•œ ì´ˆê¸°í™” ë° ì„¤ì •ì„ ë‹´ë‹¹í•˜ëŠ” ê°ì²´ë¥¼ ë§í•˜ë©°, `SimulationContext`ëŠ” ì´ëŸ¬í•œ `physicsScene` primì„ ìƒì„±í•˜ê³  ë¬¼ë¦¬ ì‹œë®¬ë ˆì´ì…˜ ì„¤ì •ì„ ê´€ë¦¬í•˜ë©°, íƒ€ì„ë¼ì¸ ê´€ë ¨ ì´ë²¤íŠ¸ ì²˜ë¦¬ì™€ ìŠ¤í…Œì´ì§€ ì„¤ì •ì„ ë‹´ë‹¹í•©ë‹ˆë‹¤.


- `set_camera_view` : stageì—ì„œ ì¹´ë©”ë¼ primì˜ ìœ„ì¹˜ì™€ ëŒ€ìƒì„ ì„¤ì •í•˜ê³ , í•´ë‹¹ primì˜ ê²½ë¡œë¥¼ ì§€ì •í•©ë‹ˆë‹¤. ì—¬ê¸°ì„œ ì¹´ë©”ë¼ primì€ stage ì¹´ë©”ë¼ë¡œ ì‚¬ìš©ë  ê°ì²´ë¥¼ ì˜ë¯¸í•˜ë©°, **ìœ„ì¹˜(location)**ì™€ **ëŒ€ìƒ(target)**ì€ ê°ê° ì¹´ë©”ë¼ì˜ ìœ„ì¹˜ì™€ ì¹´ë©”ë¼ê°€ ë°”ë¼ë³´ëŠ” ëŒ€ìƒì˜ ìœ„ì¹˜ë¥¼ ì§€ì •í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤. **ê²½ë¡œ(path)**ëŠ” ìŠ¤í…Œì´ì§€ì—ì„œ í•´ë‹¹ ì¹´ë©”ë¼ primì„ ê°€ë¦¬í‚¤ëŠ” ì´ë¦„ì´ë‚˜ ê²½ë¡œë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.

ì´ì™¸ì˜ ëª¨ë“ˆì¤‘ì—ì„œ `kit_utils`ëŠ” ì‹œë®¬ë ˆì´í„°ì—ì„œ ì œê³µí•˜ëŠ” groundë¥¼ ë¶ˆëŸ¬ì˜¤ê¸° ìœ„í•œ(`create_ground_plane`) ëª¨ë“ˆì´ë©° ë¡œë´‡ì˜ ë°œ ìœ„ì¹˜ ë§ˆì»¤ë¥¼ í‘œì‹œí•˜ê¸° ìœ„í•´ [`markers`](https://isaac-orbit.github.io/orbit/source/api/orbit.markers.html?highlight=markers#module-omni.isaac.orbit.markers) ëª¨ë“ˆì—ì„œ `PointMarker`, `StaticMarker`ë¥¼ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤.

ë‹¤ìŒìœ¼ë¡œ `robot` ëª¨ë“ˆì—ì„œ 4ì¡±ë³´í–‰ë¡œë´‡ë“¤ì„ ìœ„í•œ configurationë“¤ì„ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```python
# from core
import omni.isaac.core.utils.prims as prim_utils
from omni.isaac.core.simulation_context import SimulationContext
from omni.isaac.core.utils.viewports import set_camera_view

import omni.isaac.orbit.utils.kit as kit_utils
from omni.isaac.orbit.markers import PointMarker, StaticMarker

from omni.isaac.orbit.robots.config.anymal import ANYMAL_B_CFG, ANYMAL_C_CFG
from omni.isaac.orbit.robots.config.unitree import UNITREE_A1_CFG
from omni.isaac.orbit.robots.legged_robot import LeggedRobot

```

## Helpers

Main ì½”ë“œì—ì„œ ì‹œë®¬ë ˆì´í„°ì˜ Sceneì„ êµ¬ì„±í•˜ê¸° ìœ„í•´ì„œ `Ground-plane`, `Lights`ë“¤ì„ í¸í•˜ê²Œ êµ¬ì„±í•˜ê¸° ìœ„í•´ì„œ helper í•¨ìˆ˜ `design_scene()`ë¥¼ ë§Œë“¤ì–´ì¤ë‹ˆë‹¤. ì•ì„œ importí–ˆë˜ `kit_utils`ë¥¼ ì´ìš©í•´ì„œ groundë¥¼ ë¶ˆëŸ¬ì˜¤ê³  `prim_utils`ë¥¼ ì´ìš©í•˜ì—¬ ë¹› ì„¤ì •ì„ í•´ì¤ë‹ˆë‹¤.

```python
def design_scene():
    """Add prims to the scene."""
    # Ground-plane
    kit_utils.create_ground_plane(
        "/World/defaultGroundPlane",
        static_friction=0.5,
        dynamic_friction=0.5,
        restitution=0.8,
        improve_patch_friction=True,
    )
    # Lights-1
    prim_utils.create_prim(
        "/World/Light/GreySphere",
        "SphereLight",
        translation=(4.5, 3.5, 10.0),
        attributes={"radius": 2.5, "intensity": 600.0, "color": (0.75, 0.75, 0.75)},
    )
    # Lights-2
    prim_utils.create_prim(
        "/World/Light/WhiteSphere",
        "SphereLight",
        translation=(-4.5, 3.5, 10.0),
        attributes={"radius": 2.5, "intensity": 600.0, "color": (1.0, 1.0, 1.0)},
    )
```

## Main

ë©”ì¸ ì½”ë“œì—ì„œëŠ” ë¨¼ì € `SimulationContext`ë¥¼ ì´ìš©í•˜ì—¬ ì‹œë®¬ë ˆì´í„°ì˜ ì‹œê°„ê´€ë ¨ ì„¤ì • ë“±ì„ ì§„í–‰í•©ë‹ˆë‹¤. dtê°€ 0.005ë¼ëŠ” ê²ƒì€ ì‹œê°„ ë‹¨ìœ„ê°€ secondë¡œ ì‹œê°„ê°„ê²©ì´ 0.005ì´ˆë¡œ ì„¤ì •í•˜ëŠ” ê²ƒì„ ë§í•©ë‹ˆë‹¤. ë˜í•œ backendëŠ” ì´í›„ í¬ìŠ¤íŒ…ì—ì„œë„ ì„¤ëª…í•˜ê² ì§€ë§Œ ë¬¼ë¦¬ ì‹œë®¬ë ˆì´í„°ì—ì„œ ë°˜í™˜ë˜ëŠ” tensorë“¤ì„ ì–´ë–¤ backendë¡œ ìºìŠ¤íŒ…í•  ê²ƒì¸ì§€ ì„¤ì •í•˜ëŠ” ë¶€ë¶„ì…ë‹ˆë‹¤. í˜„ì¬ orbitì—ì„œëŠ” `torch`ë§Œ ì§€ì›í•˜ê³  ìˆìŠµë‹ˆë‹¤.

ì‹œë®¬ë ˆì´í„°ì˜ ì‹œì ì´ ë˜ëŠ” ì¹´ë©”ë¼ë¥¼ ì„¤ì •í•˜ê³  ê° ë¡œë´‡ì„ ì–´ë””ì— ë†“ì„ì§€ ì •í•˜ëŠ” `translation` íŒŒë¼ë¯¸í„°ì™€ í•¨ê»˜ spawningí•˜ê³  ë§ˆì§€ë§‰ìœ¼ë¡œ helper í•¨ìˆ˜ë¡œ ë§Œë“¤ì–´ì£¼ì—ˆë˜ `design_scene()`ì„ ì´ìš©í•˜ì—¬ groundì™€ lightë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.

```python
"""Imports all legged robots supported in Orbit and applies zero actions."""

# Load kit helper
sim = SimulationContext(stage_units_in_meters=1.0, physics_dt=0.005, rendering_dt=0.005, backend="torch")
# Set main camera
set_camera_view(eye=[3.5, 3.5, 3.5], target=[0.0, 0.0, 0.0])

# Spawn things into stage
# -- anymal-b
robot_b = LeggedRobot(cfg=ANYMAL_B_CFG)
robot_b.spawn("/World/Anymal_b/Robot_1", translation=(0.0, -1.5, 0.65))
robot_b.spawn("/World/Anymal_b/Robot_2", translation=(0.0, -0.5, 0.65))
# -- anymal-c
robot_c = LeggedRobot(cfg=ANYMAL_C_CFG)
robot_c.spawn("/World/Anymal_c/Robot_1", translation=(1.5, -1.5, 0.65))
robot_c.spawn("/World/Anymal_c/Robot_2", translation=(1.5, -0.5, 0.65))
# -- unitree a1
robot_a = LeggedRobot(cfg=UNITREE_A1_CFG)
robot_a.spawn("/World/Unitree_A1/Robot_1", translation=(1.5, 0.5, 0.42))
robot_a.spawn("/World/Unitree_A1/Robot_2", translation=(1.5, 1.5, 0.42))

# design props
design_scene()
```

ì‹œë®¬ë ˆì´í„°ë¥¼ ì´ˆê¸°í™”í•˜ëŠ” resetì„ ë¨¼ì € ì§„í–‰í•´ì¤ë‹ˆë‹¤. ê° ë¡œë´‡ì˜ handle ë˜í•œ ì´ˆê¸°í™”ë¥¼ ì‹œì¼œì¤ë‹ˆë‹¤. ë¡œë´‡ì˜ ê° ì •ë³´ë¥¼ ë‹´ê¸° ìœ„í•œ bufferë„ resetì„ í•´ì„œ ë³¸ê²©ì ì¸ ì‹¤í–‰ì„ ì¤€ë¹„í•©ë‹ˆë‹¤.

```python
# Play the simulator
sim.reset()
# Acquire handles
# Initialize handles
robot_b.initialize("/World/Anymal_b/Robot.*")
robot_c.initialize("/World/Anymal_c/Robot.*")
robot_a.initialize("/World/Unitree_A1/Robot.*")
# Reset states
robot_b.reset_buffers()
robot_c.reset_buffers()
robot_a.reset_buffers()
```

4ì¡± ë³´í–‰ ë¡œë´‡ì€ ì œì–´ë¥¼ í•  ë•Œ **ë°œì˜ ì›€ì§ì„**ì´ ë§¤ìš° ì¤‘ìš”í•©ë‹ˆë‹¤. ë°œì˜ ìœ„ì¹˜ì— ë§ˆì»¤ë¥¼ ìœ„ì¹˜ì‹œì¼œì„œ ë°œì— ëŒ€í•œ ì •ë³´ë¥¼ ì–»ê¸° ìœ„í•´ markerë¥¼ ì„¤ì •í•´ì¤ë‹ˆë‹¤. ë°œì˜ x, y, z ì¶•ì„ ì‹œê°í™”í•˜ê¸° ìœ„í•´ì„œ `StaticMarker`ë¥¼ ì´ìš©í•˜ì—¬ ì„¤ì •í•˜ê³  ë°œì´ contact í¬ì¸íŠ¸ë¥¼ ë³´ê¸° ìœ„í•´ `PointMarker`ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.


```python
# Debug visualization markers.
# -- feet markers
feet_markers: List[StaticMarker] = list()
feet_contact_markers: List[PointMarker] = list()
# iterate over robots
for robot_name in ["Anymal_b", "Anymal_c", "Unitree_A1"]:
    # foot
    marker = StaticMarker(f"/World/Visuals/{robot_name}/feet", 4 * robot_c.count, scale=(0.1, 0.1, 0.1))
    feet_markers.append(marker)
    # contact
    marker = PointMarker(f"/World/Visuals/{robot_name}/feet_contact", 4 * robot_c.count, radius=0.035)
    feet_contact_markers.append(marker)
```

ê° ë¡œë´‡ì€ actionì„ í•˜ê²Œë˜ê³  ì´ë¥¼ ë¡œë´‡ì„ ì œì–´í•œë‹¤ê³  ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. `get_default_dof_state()`ì€ ë¡œë´‡ì˜ ê° ê°ì²´ì— ìˆëŠ” methodë¡œ ê° ë¡œë´‡ì˜ standing ìì„¸ì— ëŒ€í•œ joint position(dof) ì •ë³´ê°€ ë“¤ì–´ìˆìŠµë‹ˆë‹¤.

```python
# dummy action
actions = torch.zeros(robot_a.count, robot_a.num_actions, device=robot_a.device)

# Define simulation stepping
sim_dt = sim.get_physics_dt()
sim_time = 0.0
count = 0
# Simulate physics
while simulation_app.is_running():
    # If simulation is stopped, then exit.
    if sim.is_stopped():
        break
    # If simulation is paused, then skip.
    if not sim.is_playing():
        sim.step(render=not args_cli.headless)
        continue
    # reset
    if count % 1000 == 0:
        # reset counters
        sim_time = 0.0
        count = 0
        # reset dof state
        for robot in [robot_a, robot_b, robot_c]:
            dof_pos, dof_vel = robot.get_default_dof_state()
            robot.set_dof_state(dof_pos, dof_vel)
            robot.reset_buffers()
        # reset command
        actions = torch.zeros(robot_a.count, robot_a.num_actions, device=robot_a.device)
        print(">>>>>>>> Reset!")
    # apply actions
    robot_b.apply_action(actions)
    robot_c.apply_action(actions)
    robot_a.apply_action(actions)
    # perform step
    sim.step()
    # update sim-time
    sim_time += sim_dt
    count += 1
```

ì‹œë®¬ë ˆì´í„° ì´ˆê¸°í™”í•  ë•Œ resetí–ˆë˜ bufferì— ê° ë¡œë´‡ì˜ ì •ë³´ë¥¼ ë‹´ìŠµë‹ˆë‹¤. markerë¡œ ì„¤ì •í•´ë‘ì—ˆë˜ `foot_marker`ì™€ `contact_marker`ë„ ê° ë¡œë´‡ì—ì„œ ë¶ˆëŸ¬ì™€ì„œ state updateë¥¼ ì§„í–‰í•©ë‹ˆë‹¤. 

```python
# note: to deal with timeline events such as stopping, we need to check if the simulation is playing
if sim.is_playing():
    # update buffers
    robot_b.update_buffers(sim_dt)
    robot_c.update_buffers(sim_dt)
    robot_a.update_buffers(sim_dt)
    # update marker positions
    for foot_marker, contact_marker, robot in zip(
        feet_markers, feet_contact_markers, [robot_b, robot_c, robot_a]
    ):
        # feet
        foot_marker.set_world_poses(
            robot.data.feet_state_w[..., 0:3].view(-1, 3), robot.data.feet_state_w[..., 3:7].view(-1, 4)
        )
        # contact sensors
        contact_marker.set_world_poses(
            robot.data.feet_state_w[..., 0:3].view(-1, 3), robot.data.feet_state_w[..., 3:7].view(-1, 4)
        )
        contact_marker.set_status(torch.where(robot.data.feet_air_time.view(-1) > 0.0, 1, 2))
```

# Closing

ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œëŠ” standalone exampleë¡œ ë‚˜ì™€ìˆë˜ `play_quadrupeds.py`ì½”ë“œì˜ ì „ì²´ì ì¸ êµ¬ì„±ê³¼ ì½”ë“œì— ëŒ€í•´ ì•Œì•„ë³´ì•˜ìŠµë‹ˆë‹¤. ì•„ì§ orbitì˜ ë§ì€ ëª¨ë“ˆë“¤ì— ìµìˆ™í•˜ì§€ ì•Šì•„ roughí•˜ê²Œ ì½”ë“œì˜ íë¦„ì„ ì‚´í´ë³´ì•˜ì§€ë§Œ ë‹¤ìŒ í¬ìŠ¤íŒ…ì—ì„œëŠ” ê°€ì¥ ê°„ë‹¨í•œ empty sceneì—ì„œ ì‹œì‘í•˜ë©´ì„œ ì¢€ ë” ìì„¸íˆ ì‚´í´ë³¼ ì˜ˆì •ì´ë‹ˆ ë‹¤ìŒ í¬ìŠ¤íŒ…ì—ì„œ ì¢€ ë” orbitê³¼ ì¹œí•´ì ¸ë´…ì‹œë‹¤.