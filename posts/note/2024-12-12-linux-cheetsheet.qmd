---
title: "ğŸ“Linx Cheet Sheet"
toc: true
date: "2024-12-12"
description: ìì£¼ ì‚¬ìš©í•˜ëŠ” Commands
categories: [linux, docker, cheetsheet]
format:
  html:
    code-fold: true
    code-summary: "Show the code"
---

# library ê²½ë¡œ ì„¤ì •

> conda env lib ì—°ê²°ì‹œ

```commandline
$ export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/home/usr/work/mylib

vi ~/.bashrc (íŒŒì¼ëª… ì•ì˜ .ì€ ìˆ¨ê¹€íŒŒì¼ì„ ì˜ë¯¸)
export LD_LIBRARY_PATH=/home/user/work/mylib:${LD_LIBRARY_PATH}
```

# GPU Memory í•´ì œ

> í”„ë¡œì„¸ìŠ¤ê°€ ì£½ì§€ ì•Šì„ë•Œ ê°•ì œ ì¢…ë£Œ

```commandline
ps aux | grep python # ë”¥ëŸ¬ë‹ í•™ìŠµì„ ì‹¤í–‰ì‹œí‚¨ python íŒŒì¼ì˜ ì‹¤í–‰ IDë¥¼ ì°¾ê¸°
sudo kill -9 [ID_NUMBER]
```

# Docker 

- `docker: Error response from daemon: could not select device driver "" with capabilities: [[gpu]].`
- nvidia-container-toolkit ì„¤ì¹˜ 

```commandline
$ distribution=$(. /etc/os-release;echo $ID$VERSION_ID) \
   && curl -s -L https://nvidia.github.io/nvidia-docker/gpgkey | sudo apt-key add - \
   && curl -s -L https://nvidia.github.io/nvidia-docker/$distribution/nvidia-docker.list | sudo tee /etc/apt/sources.list.d/nvidia-docker.list
$ sudo apt-get update && sudo apt-get install -y nvidia-container-toolkit

$ sudo systemctl restart docker
```
    
- GPU ì„¤ì •
  - `docker run -it --gpus '"device=0,1,2,3"'`
  - `docker run -it --gpus 3` (í™•ì¸í•´ë´ì•¼ í•¨)


# terminal zsh/bash
```commandline
chsh -s bin/bash
chsh -s bin/zsh

(@terminal)
/bin/bash
/bin/zsh
```

# ìš©ëŸ‰ í™•ì¸

```
df -h
```

- í•´ë‹¹ ê²½ë¡œì— ìˆëŠ” ëª¨ë“  íŒŒì¼ê³¼ í´ë”ë“¤ì„ ìš©ëŸ‰ ë‹¨ìœ„ë¡œ í‘œê¸°
- í´ë”ê°€ 1 ìˆœìœ„, íŒŒì¼ì´ 2 ìˆœìœ„ë¡œ ë‚˜ì—´
- ê²½ë¡œì— ìˆëŠ” ëª¨ë“  í´ë”ë“¤ê³¼ ê° í´ë”ë‚´ì— ìˆëŠ” íŒŒì¼ë“¤ì„ ëª¨ë‘ í‘œê¸°
```
du -ch [path] | sort -h
```

- í•´ë‹¹ ê²½ë¡œì˜ í´ë” ê¸°ì¤€ íŠ¸ë¦¬ êµ¬ì¡°ì˜ ê¹Šì´ 1ë§Œí¼ì˜ ìˆ˜ì¤€ê¹Œì§€ íƒìƒ‰
- ìš©ëŸ‰ì´ í° í´ë”ê°€ ì•„ë˜ë¡œ, ê°€ì¥ ìš©ëŸ‰ì´ í° 10ê°œë§Œ ë³´ì„
```
du -ch [path] --max-depth=1 | sort -h | tail -10
```

- í˜„ì¬ ê²½ë¡œì˜ íŒŒì¼ ìš©ëŸ‰
```
ls -lh
```

# íŒŒì¼ ì°¾ê¸°

```
find [ì˜µì…˜] [ê²½ë¡œ] [í‘œí˜„ì‹]

# í˜„ì¬ ìœ„ì¹˜ì—ì„œ logê°€ ë“¤ì–´ê°€ëŠ” íŒŒì¼ ëª¨ë‘ ì°¾ê¸°
find . -name "*log*"

# í˜„ì¬ ë””ë ‰í† ë¦¬ì—ì„œ .txt í™•ì¥ì íŒŒì¼ ê²€ìƒ‰ í›„ ëª¨ë‘ ì‚­ì œ
find . -name "*.txt" -delete

```

- options
    - `P` : ì‹¬ë³¼ë¦­ ë§í¬ë¥¼ ë”°ë¼ê°€ì§€ ì•Šê³ , ì‹¬ë³¼ë¦­ ë§í¬ ìì²´ ì •ë³´ ì‚¬ìš©.
    - `L` : ì‹¬ë³¼ë¦­ ë§í¬ì— ì—°ê²°ëœ íŒŒì¼ ì •ë³´ ì‚¬ìš©.
    - `H` : ì‹¬ë³¼ë¦­ ë§í¬ë¥¼ ë”°ë¼ê°€ì§€ ì•Šìœ¼ë‚˜, Command Line Argumentë¥¼ ì²˜ë¦¬í•  ë• ì˜ˆì™¸.
    - `D` : ë””ë²„ê·¸ ë©”ì‹œì§€ ì¶œë ¥.