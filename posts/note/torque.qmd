---
draft: true
title: "📝Torque Calculation"
toc: true
date: "2025-06-04"
description: 리드 스크류 사용한 힘 계산
categories: [torque, 2025]
format:
  html:
    code-fold: true
    code-summary: "Show the code"
---


# 방법

아래 절차대로 필요한 파라미터만 넣으면 “모터 최대 토크 → 리드스크루 → 관절 → 손끝”으로 힘을 전파하여 손끝 최대 하중 $F_\text{tip,max}$ 을 계산할 수 있습니다.

---

## 1 단계: 리드스크루 축방향 힘 $F_\text{axial}$

리드스크루 한 회전당 전진거리(리드) $L\,[\mathrm{m/rev}]$ 와 효율 $\eta$ (나사산·베어링 마찰 포함)를 알면

$$
F_\text{axial}
=\frac{2\pi\,\eta\,T_\text{motor,max}}{L}
\tag{1}
$$

* **$T_\text{motor,max}$** : 모터가 낼 수 있는 정격 최대 토크 \[N·m]
* **리드 $L$** 가 짧을수록 기계적 이득이 커져 힘이 증폭됩니다.
* 고마찰(저효율)이면 실제 힘은 식(1)보다 감소하므로 $\eta$ (≈ 0.3 \~ 0.9)를 꼭 곱해 줍니다.

> (보다 정밀하게는 μ, dₘ를 이용한 나사 공식
> $T=\frac{F_\text{axial}L}{2\pi}\!\left(1+\frac{\pi\mu d_m}{L}\right)$ 도 사용합니다.
> 대부분은 $\eta$ 계수로 충분히 근사.)

---

## 2 단계: 축방향 힘 → 관절 토크 $\tau$

축방향 출력이 직접 핑거 관절에 토크를 가하려면, 리드스크루 끝에 **볼조인트나 링크**가 달려 있어 핑거 관절 중심까지 모멘트 암 $r$ 이 생깁니다.

$$
\tau = F_\text{axial}\; r
\tag{2}
$$

* **$r$** : 축방향 힘 작용선에서 관절 회전축까지의 수직거리 \[m]
  (푸시로드-크랭크, 캠, 롤러 슬라이더 등 실제 메커니즘 형태에 따라 변동)

---

## 3 단계: 관절 토크 → 손끝 힘 $F_\text{tip}$

가장 단순한 1-링크(hinge) 손가락이라면, 관절에서 손끝까지 길이 $l$ 이 지레 팔이 되어

$$
F_\text{tip} = \frac{\tau}{l}
          = \left(\frac{2\pi \eta T_\text{motor,max}}{L}\right)\frac{r}{l}
\tag{3}
$$

* **$l$** : 관절축 ↔ 손끝 접촉점 거리 \[m]

### 다자유도(2단 이상) 손가락인 경우

관절 토크 벡터 $\boldsymbol{\tau}$ 를 손끝 힘 $\mathbf{F}_\text{tip}$ 으로 옮기려면 손가락 기구학 Jacobian $\mathbf{J(q)}$ 가 필요합니다.

$$
\mathbf{F}_\text{tip} = \mathbf{J(q)}^{-\top}\; \boldsymbol{\tau}
$$

여기서 $\boldsymbol{\tau}$ 의 항목마다 식 (2)가 적용되며, 각 관절별 모멘트 암 $r_i$ 와 리드스크루 배치가 달라질 수 있습니다.
설계 CAD → IDL/URDF → Python (NumPy, sympy) 등으로 Jacobian을 바로 계산할 수 있습니다.

<!--
---

## 4 단계: 예시 숫자 계산

| 파라미터                          | 값                |
| ----------------------------- | ---------------- |
| 모터 최대 토크 $T_\text{motor,max}$ | 0.20 N·m         |
| 리드 $L$                        | 2 mm (= 0.002 m) |
| 효율 $\eta$                     | 0.8              |
| 모멘트 암 $r$                     | 10 mm (= 0.01 m) |
| 관절-손끝 거리 $l$                  | 50 mm (= 0.05 m) |

1. 식 (1): $F_\text{axial} = \frac{2\pi \times 0.8 \times 0.20}{0.002} \approx \mathbf{503 N}$
2. 식 (2): $\tau = 503 \times 0.01 \approx \mathbf{5.0 N·m}$
3. 식 (3): $F_\text{tip} = 5.0 / 0.05 \approx \mathbf{100 N}$

> **따라서 이 설계에서 모터를 끝까지 구동하면 손끝을 약 100 N 힘으로 누를 수 있습니다.**

---

## 5 단계: 설계 시 체크리스트 ✓

1. **리드 선택**

   * 큰 힘이 필요하면 리드를 줄이고(=기계적 이득 ↑) 모터 속도를 늘림.
2. **효율·마찰 관리**

   * 볼스크루·적층 윤활·반복 윤활로 $\eta$ 향상.
3. **백드라이브 & 자잠김**

   * 리드가 너무 작으면 백드라이브(Self-locking)로 인해 위치 제어가 더 쉬우나
     빠른 풀-스피드 복귀가 어려울 수 있음.
4. **구조 강도**

   * 나사산 압축/압좌에 대한 치수 계산(슬렌더니스, Euler 임계 하중 등)
   * 링크·조인트 베어링 정격 하중 확인.
5. **Jacobian 특이점**

   * 손가락 자세에 따라 $\mathbf{J}^{-\top}$가 커져 $F_\text{tip}$이 급감할 수 있음.
   * 최대 힘을 발휘해야 하는 자세에서 조건수(Condition number) 확인.

---

## 6 단계: 바로 써먹을 파이썬 스니펫

```python
import math

def fingertip_force(T_motor, lead_mm, eta, r_mm, l_mm):
    F_axial = 2*math.pi*eta*T_motor / (lead_mm/1000)   # N
    tau = F_axial * (r_mm/1000)                       # N·m
    return tau / (l_mm/1000)                          # N

print(fingertip_force(0.20, 2.0, 0.8, 10.0, 50.0))  # ≈ 100 N
```

필요한 수치만 바꿔서 최대 힘을 즉시 얻을 수 있습니다.

---

### 추가 정보가 필요하면?

* 리드스크루 상세(리드, 마찰계수, 지름)
* 정확한 링크 길이와 조인트 배치(각 $r_i, l_i$)
* 다관절 Jacobian 계산에 쓸 DH 파라미터 등

값을 알려주시면 구체적인 숫자로 다시 계산해 드릴게요!


-->

# 적용

아래에서는 **축방향 힘 3 N → 모멘트암 7 mm → 3-링크(3 DOF) 손가락**으로 전달될 때 손끝에 걸리는 힘을 두 가지 대표 시나리오로 계산해 보았습니다.
(모든 값은 SI 단위로 환산하여 사용합니다.)

| 기호               | 의미                            | 값                           |
| ---------------- | ----------------------------- | --------------------------- |
| $F_\text{axial}$ | 리드스크루 축방향 힘                   | **3 N**                     |
| $r$              | 리드스크루-관절 모멘트암                 | **7 mm = 0.007 m**          |
| $l$              | 각 링크 길이                       | **30.5 mm = 0.0305 m**      |
| $τ$              | 관절 토크 (= $F_\text{axial}\,r$) | $3 N × 0.007 m = 0.021 N·m$ |

---

## 1️⃣ 한 개의 관절(베이스)만 구동되는 경우

리드스크루가 첫 번째 관절(MCP 등)만 움직인다고 가정하면, 손끝까지의 지레팔은 세 링크를 모두 거친 **총 길이**입니다.

$$
l_\text{tot}=3 l = 3 \times 0.0305 = 0.0915\;{\rm m}
$$

손끝 힘:

$$
F_\text{tip}= \frac{τ}{l_\text{tot}}
           = \frac{0.021}{0.0915}
           \approx \boxed{0.23\;{\rm N}}
$$

---

## 2️⃣ 세 개의 관절이 **각각** 같은 토크(0.021 N·m)를 받을 수 있는 경우

(예: 하나의 텐던이 모든 관절에 동일 텐션·모멘트암을 만들어 주거나, 관절마다 독립 모터가 동일 토크를 낸다고 가정)

| 관절     | 손끝까지 남은 길이 $d_i$         | 토크 $τ_i$  | 관절별 힘 $F_i = τ_i/d_i$ |
| ------ | ------------------------ | --------- | --------------------- |
| 1 (기저) | $l_1+l_2+l_3 = 0.0915 m$ | 0.021 N·m | 0.23 N                |
| 2 (중간) | $l_2+l_3 = 0.0610 m$     | 0.021 N·m | 0.34 N                |
| 3 (말단) | $l_3 = 0.0305 m$         | 0.021 N·m | 0.69 N                |

관절 토크가 모두 **동일 방향**으로 합력에 기여한다면, 이론적으로

$$
F_\text{tip,max}^{(3\,τ)} \approx 0.23+0.34+0.69
                             \approx \boxed{1.26\;{\rm N}}
$$

> 실제 값은 **관절 각도 θ**와 텐던/기구학적 배분 때문에 달라집니다. 위 표는 “모든 관절이 같은 평면 안에서 굴곡하며, 손끝에 수직 힘을 모아 주는 이상적 자세”를 가정한 근사치입니다.

---

## 3️⃣ Jacobian을 써서 엄밀히 구하려면

다자유도 손가락의 일반식:

$$
\mathbf{F}_\text{tip}= \mathbf{J(q)}^{-\!\top}\,\boldsymbol{τ}
$$

* $\mathbf{J(q)}$: 3 DOF 손가락(평면 기준 2×3 Jacobian)
* $\boldsymbol{τ}$: 각 관절 토크 벡터 $[τ_1,τ_2,τ_3]^\top$

예를 들어 **θ₁ = 30°, θ₂ = 45°, θ₃ = 30°** 자세에서 토크가 $[0.021,0,0]^\top$이라면
계산 결과 손끝에 약 **0.23 N**의 굴곡 방향 힘이 생깁니다.
(완전히 펴진 자세 θ = 0°는 Jacobian이 특이점에 가까워 x축 방향 힘을 거의 낼 수 없습니다.)

---

### 정리 ✓

* **축방향 힘과 모멘트암**만 알면 관절 토크는 바로 계산 가능.
* **손끝 힘**은

  * **단일 관절 구동** → 토크를 **손끝까지의 총 길이**로 나누면 된다.
  * **다관절 모두 구동** → 각 관절이 손끝까지 남은 길이에 따라 힘을 더하게 되며, 이상적인 경우 합력은 1 N대 수준.
  * 더 정확히는 **Jacobian 역전치**로 구한다.
* 실제 설계에서는 각 관절의 모멘트암, 전송 기구, 관절 각도(자코비안), 마찰·백래시 등을 함께 고려해야 합니다.

<!--
필요하면 설계 도면(관절 축 위치, 텐던 경로, 각도 범위 등)을 공유해 주시면 Jacobian을 사용한 보다 정확한 수치 계산을 도와드릴 수 있습니다!
-->
