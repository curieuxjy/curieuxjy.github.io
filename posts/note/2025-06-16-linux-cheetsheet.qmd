---
title: "ğŸ“Linx Cheet Sheet"
toc: true
date: "2025-06-16"
description: ìì£¼ ì‚¬ìš©í•˜ëŠ” Commands
categories: [linux, docker, cheetsheet, 2025]
format:
  html:
    code-fold: true
    code-summary: "Show the code"
---

# git commandë¡œ commit

```bash
# If the branch already exists:
git checkout [branch-name]

# Otherwise, create it and switch:
git checkout -b [branch-name]

```

```bash
git add .
git commit -m "commit message"
```

```bash
git push

git push -u origin [branch-name]
```

# ë‹¤ì¤‘ GPUì—ì„œ ì‚¬ìš©í•  íŠ¹ì • GPU ì„¤ì •

- `export CUDA_VISIBLE_DEVICES=<idx>[,<idx>...]` ë¡œ ì‚¬ìš©í•  GPUë§Œ ë…¸ì¶œ

- ë‹¤ì¤‘ GPU í™˜ê²½ì—ì„œ â€œì–´ë–¤ GPUë¥¼ ì“¸ì§€â€ ì§€ì •í•˜ëŠ” ê°€ì¥ ê°„ë‹¨í•œ ë°©ë²•ì€ í™˜ê²½ ë³€ìˆ˜ `CUDA_VISIBLE_DEVICES` ë¥¼ ì„¤ì •. ì´ ë³€ìˆ˜ì— ì§€ì •í•œ ì¸ë±ìŠ¤(ë“¤)ë§Œì´ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ â€œGPU 0,1,2â€¦â€ ë¡œ ì¸ì‹ë˜ê¸° ë•Œë¬¸ì—, ì‹¤ì œ ë¨¸ì‹ ì— ì—¬ëŸ¬ ê°œ ì¥ì°©ëœ GPU ì¤‘ì—ì„œ ì›í•˜ëŠ” ê²ƒë§Œ ê³¨ë¼ ì“¸ ìˆ˜ ìˆìŒ

í„°ë¯¸ë„ì—ì„œ ì•„ë˜ ëª…ë ¹ìœ¼ë¡œ í˜„ì¬ ì‹œìŠ¤í…œì— ë¶™ì–´ ìˆëŠ” GPU ëª©ë¡ê³¼ ê° IDë¥¼ í™•ì¸:

```bash
nvidia-smi # ì—¬ê¸°ì„œ ì¢Œì¸¡ì˜ `GPU` ì»¬ëŸ¼ì´ ì‹¤ì œ ì‹œìŠ¤í…œ ì¸ë±ìŠ¤
```

* **ë‹¨ì¼ GPU ì‚¬ìš©**

  ```bash
  export CUDA_VISIBLE_DEVICES=1
  python train.py
  ```

  ì´ë ‡ê²Œ í•˜ë©´ ì‹¤ì œ ì‹œìŠ¤í…œì˜ `GPU#1` ì´ â€œë‚´ë¶€ì ìœ¼ë¡œ 0ë²ˆ GPUâ€ ë¡œ ë³´ì´ê²Œ ë©ë‹ˆë‹¤.

* **ì—¬ëŸ¬ GPU ì‚¬ìš©**

  ```bash
  export CUDA_VISIBLE_DEVICES=0,2
  python train.py
  ```

  ì´ë ‡ê²Œ ì„¤ì •í•˜ë©´ ì‹œìŠ¤í…œ GPU 0ë²ˆê³¼ 2ë²ˆë§Œ ë³´ì´ê²Œ ë˜ê³ , ë‚´ë¶€ì ìœ¼ë¡œëŠ” `[ â€œê°€ìƒ GPU0â€ â† ì‹œìŠ¤í…œ0, â€œê°€ìƒ GPU1â€ â† ì‹œìŠ¤í…œ2 ]` ë¡œ ì·¨ê¸‰ë©ë‹ˆë‹¤.

> **Tip**: ì‰¼í‘œ ì—†ì´ `CUDA_VISIBLE_DEVICES=0` ë˜ëŠ” `1`, ê³µë°± ì—†ì´ `0,2,3` ì²˜ëŸ¼ ì§€ì •í•´ì•¼ í•©ë‹ˆë‹¤.


# ì†ŒìŠ¤ì½”ë“œ ì°¾ê¸° `grep`

> íŒŒì¼ ë‚´ì—ì„œ ë˜ëŠ” ì…ë ¥ê°’ìœ¼ë¡œë¶€í„° íŠ¹ì • íŒ¨í„´ì„ ê²€ìƒ‰

- option
  - `-v` : ì¼ì¹˜ë˜ëŠ” ë‚´ìš©ì´ **ì—†ëŠ”** **ë¼ì¸**ì„ í‘œì‹œ
  - `-c` : ì¼ì¹˜ë˜ëŠ” ë‚´ìš©ì´ ìˆëŠ” **í–‰ì˜ ê°œìˆ˜**ë¥¼ í‘œì‹œ
  - `-l` : ì¼ì¹˜ë˜ëŠ” ë‚´ìš©ì´ ìˆëŠ” **íŒŒì¼ ì´ë¦„**ë§Œ í‘œì‹œ
  - `-h` : ì¼ì¹˜ë˜ëŠ” ë‚´ìš©ì„ ì°¾ì€ íŒŒì¼ì˜ ì´ë¦„ì„ **í‘œì‹œí•˜ì§€ ì•ŠìŒ**
  - `-n` : ì¼ì¹˜ë˜ëŠ” ë‚´ìš©ì´ ìˆëŠ” í–‰ì€ **í–‰ ë²ˆí˜¸ì™€ í•¨ê»˜** í‘œì‹œ

- íŠ¹ì • ë¬¸ìì—´ë¡œ ì°¾ê¸°: `grep -r "TEXT" [PATH]`
  - ì˜ˆ: `grep -r "TEXT" ./*`
  - ìƒ‰ ì˜µì…˜: `grep --color=auto "TEXT" ./*`
- íŒŒì¼ëª…ë§Œ ë³´ê¸°: `grep -l "TEXT" [PATH]`
- íŠ¹ì • ê²½ë¡œ ë° íŒŒì¼ëª…ì„ ëª…ì‹œí•˜ì—¬ íƒìƒ‰: `find [PATH] -name "FILENAME" | xargs grep "TEXT"`

**Advanced**

- [ripgrep](https://github.com/BurntSushi/ripgrep)
- [fzf](https://github.com/junegunn/fzf)

# AppImage icon

AppImage icon ìƒì„±

- .AppImage íŒŒì¼ ë° icon ì´ë¯¸ì§€(.png) ê²½ë¡œ: `/opt`
- desktop ë°”ë¡œê°€ê¸° ì„¤ì • ê²½ë¡œ: `/usr/share/applications`
1. appimage íŒŒì¼ê³¼ icon imageë¥¼ `/opt`ë¡œ ì´ë™
   - e.g. `/opt/[app_name].AppImage` & `/opt/[app_name].png`
2. ë°”ë¡œê°€ê¸° ì„¤ì • íŒŒì¼ `[app_name.desktop]`ì„ `/usr/share/applications`ì— ë§Œë“¤ì–´ì¤Œ
  ```shell
  [Desktop Entry]
  Name=[app_name]
  Comment=[AppImage entry]
  Exec=/opt/[app_name].AppImage
  Icon=/opt/[app_name].png
  Type=Application
  Terminal=false
  Encoding=UTF-8
  Categories=Utility;
  ```

# conda ìë™ í™œì„±í™” í•´ì œ

`conda config --set auto_activate_base false`

# conda lib error

```
ImportError: libpython2.x.so.1.0: cannot open shared object file: No such file or directory
```
- Solution: `export LD_LIBRARY_PATH=/home/avery/anaconda3/envs/[ê°€ìƒí™˜ê²½ì´ë¦„]/lib`


# conda freezing

```
conda env export > environment.yaml
conda env create --file environment.yaml

pip list --format=freeze > ./requirements.txt
pip install -r requirements.txt
```


# symbolic link ì„¤ì • ë° ê´€ë¦¬

> - ì‹¬ë³¼ë¦­ ë§í¬ëŠ” íŒŒì¼ ì‹œìŠ¤í…œ ë‚´ì—ì„œ ë‹¤ë¥¸ íŒŒì¼ì´ë‚˜ ë””ë ‰í† ë¦¬ì˜ ê²½ë¡œë¥¼ ê°€ë¦¬í‚¤ëŠ” "ë°”ë¡œ ê°€ê¸°"ì™€ ê°™ì€ ì—­í• ì„ í•˜ë¯€ë¡œ, ì‹¤ì œ íŒŒì¼ì´ ì•„ë‹Œ ë§í¬ íŒŒì¼ì„ì„ ìœ ì˜
> - ì—¬ëŸ¬ ë²„ì „ì˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ë‚˜ í”„ë¡œê·¸ë¨ ê´€ë¦¬ ì‹œ, ì‹¬ë³¼ë¦­ ë§í¬ê°€ ì–´ë–¤ íƒ€ê²Ÿì„ ê°€ë¦¬í‚¤ê³  ìˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ê²ƒì´ ì¤‘ìš”
> - ì—¬ëŸ¬ ë²„ì „ì˜ í”„ë¡œê·¸ë¨(ì˜ˆ: python, cuda)ì„ ì„¤ì¹˜í–ˆì„ ë•Œ ì–´ë–¤ ë²„ì „ì´ í™œì„±í™”ë˜ì–´ ìˆëŠ”ì§€ ê´€ë¦¬

- **ì‹¬ë³¼ë¦­ ë§í¬ ì‚­ì œ**
  ```{.sh code-line-numbers=false}
  rm <symbolic_link>
  ```
  *ì˜ˆì‹œ:*
  ```{.sh code-line-numbers=false}
  rm /usr/local/bin/python
  ```

- **ì‹¬ë³¼ë¦­ ë§í¬ ìƒì„±**
  ```{.sh code-line-numbers=false}
  ln -s <target> <symbolic_link>
  ```
  *ì˜ˆì‹œ:*
  ```{.sh code-line-numbers=false}
  ln -s /opt/python3.9/bin/python /usr/local/bin/python
  ```

- **ì‹¬ë³¼ë¦­ ë§í¬ ë³€ê²½ (ë®ì–´ì“°ê¸°)**
  ê¸°ì¡´ ë§í¬ë¥¼ ìƒˆ íƒ€ê²Ÿìœ¼ë¡œ ë³€ê²½í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.
  ```{.sh code-line-numbers=false}
  ln -Tfs <new_target> <symbolic_link>
  ```
  *ì˜ˆì‹œ:*
  ```{.sh code-line-numbers=false}
  ln -Tfs /opt/python3.10/bin/python /usr/local/bin/python
  ```
- **ì‹¬ë³¼ë¦­ ë§í¬ í™•ì¸**
  ```{.sh code-line-numbers=false}
  ls -l <symbolic_link>
  ```
  *ì˜ˆì‹œ:*
  ```{.sh code-line-numbers=false}
  ls -l /usr/local/bin/python
  lrwxrwxrwx 1 root root 24 2025-01-22 12:34 /usr/local/bin/python -> /opt/python3.9/bin/python
  ```

# library ê²½ë¡œ ì„¤ì •

> conda env lib ì—°ê²°ì‹œ

```{.sh code-line-numbers=false}
$ export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/home/usr/work/mylib

vi ~/.bashrc (íŒŒì¼ëª… ì•ì˜ .ì€ ìˆ¨ê¹€íŒŒì¼ì„ ì˜ë¯¸)
export LD_LIBRARY_PATH=/home/user/work/mylib:${LD_LIBRARY_PATH}
```

# GPU Memory í•´ì œ

> í”„ë¡œì„¸ìŠ¤ê°€ ì£½ì§€ ì•Šì„ë•Œ ê°•ì œ ì¢…ë£Œ

```commandline
ps aux | grep python # ë”¥ëŸ¬ë‹ í•™ìŠµì„ ì‹¤í–‰ì‹œí‚¨ python íŒŒì¼ì˜ ì‹¤í–‰ IDë¥¼ ì°¾ê¸°
sudo kill -9 [ID_NUMBER]
```

# Docker

- `docker: Error response from daemon: could not select device driver "" with capabilities: [[gpu]].`
- nvidia-container-toolkit ì„¤ì¹˜

```{.sh code-line-numbers=false}
$ distribution=$(. /etc/os-release;echo $ID$VERSION_ID) \
   && curl -s -L https://nvidia.github.io/nvidia-docker/gpgkey | sudo apt-key add - \
   && curl -s -L https://nvidia.github.io/nvidia-docker/$distribution/nvidia-docker.list | sudo tee /etc/apt/sources.list.d/nvidia-docker.list

$ sudo apt-get update && sudo apt-get install -y nvidia-container-toolkit

$ sudo systemctl restart docker
```

- GPU ì„¤ì •
  - `docker run -it --gpus '"device=0,1,2,3"'`

- containerë¥¼ imageë¡œ ì €ì¥
  - `docker commit [CONTAINER_ID] [IMAGE_NAME]`


# terminal zsh/bash

```{.sh code-line-numbers=false}
chsh -s bin/bash
chsh -s bin/zsh

(@terminal)
/bin/bash
/bin/zsh
```

# ìš©ëŸ‰ í™•ì¸

```{.sh code-line-numbers=false}
df -h
```

- í•´ë‹¹ ê²½ë¡œì— ìˆëŠ” ëª¨ë“  íŒŒì¼ê³¼ í´ë”ë“¤ì„ ìš©ëŸ‰ ë‹¨ìœ„ë¡œ í‘œê¸°
- í´ë”ê°€ 1 ìˆœìœ„, íŒŒì¼ì´ 2 ìˆœìœ„ë¡œ ë‚˜ì—´
- ê²½ë¡œì— ìˆëŠ” ëª¨ë“  í´ë”ë“¤ê³¼ ê° í´ë”ë‚´ì— ìˆëŠ” íŒŒì¼ë“¤ì„ ëª¨ë‘ í‘œê¸°

```{.sh code-line-numbers=false}
du -ch [path] | sort -h
```

- í•´ë‹¹ ê²½ë¡œì˜ í´ë” ê¸°ì¤€ íŠ¸ë¦¬ êµ¬ì¡°ì˜ ê¹Šì´ 1ë§Œí¼ì˜ ìˆ˜ì¤€ê¹Œì§€ íƒìƒ‰
- ìš©ëŸ‰ì´ í° í´ë”ê°€ ì•„ë˜ë¡œ, ê°€ì¥ ìš©ëŸ‰ì´ í° 10ê°œë§Œ ë³´ì„

```{.sh code-line-numbers=false}
du -ch [path] --max-depth=1 | sort -h | tail -10
```

- í˜„ì¬ ê²½ë¡œì˜ íŒŒì¼ ìš©ëŸ‰

  ```{.sh code-line-numbers=false}
  ls -lh
  ```

# íŒŒì¼ ì°¾ê¸°

```{.sh code-line-numbers=false}
find [ì˜µì…˜] [ê²½ë¡œ] [í‘œí˜„ì‹]

# í˜„ì¬ ìœ„ì¹˜ì—ì„œ logê°€ ë“¤ì–´ê°€ëŠ” íŒŒì¼ ëª¨ë‘ ì°¾ê¸°
find . -name "*log*"

# í˜„ì¬ ë””ë ‰í† ë¦¬ì—ì„œ .txt í™•ì¥ì íŒŒì¼ ê²€ìƒ‰ í›„ ëª¨ë‘ ì‚­ì œ
find . -name "*.txt" -delete
```

- options
    - `P` : ì‹¬ë³¼ë¦­ ë§í¬ë¥¼ ë”°ë¼ê°€ì§€ ì•Šê³ , ì‹¬ë³¼ë¦­ ë§í¬ ìì²´ ì •ë³´ ì‚¬ìš©.
    - `L` : ì‹¬ë³¼ë¦­ ë§í¬ì— ì—°ê²°ëœ íŒŒì¼ ì •ë³´ ì‚¬ìš©.
    - `H` : ì‹¬ë³¼ë¦­ ë§í¬ë¥¼ ë”°ë¼ê°€ì§€ ì•Šìœ¼ë‚˜, Command Line Argumentë¥¼ ì²˜ë¦¬í•  ë• ì˜ˆì™¸.
    - `D` : ë””ë²„ê·¸ ë©”ì‹œì§€ ì¶œë ¥.

# í´ë”ë‚˜ íŒŒì¼ ê°¯ìˆ˜ ì°¾ê¸°

- í˜„ì¬ ìœ„ì¹˜ì—ì„œì˜ **í´ë”** ê°œìˆ˜ `ls -l | grep ^d | wc -l`
- í˜„ì¬ ìœ„ì¹˜ì—ì„œì˜ **íŒŒì¼** ê°œìˆ˜ `ls -l | grep ^- | wc -l`
- í˜„ì¬ í´ë”ì˜ í•˜ìœ„ íŒŒì¼ ê°œìˆ˜ `find . -type f | wc -l`

# mount ë‹¤ì¤‘ ê²½ë¡œ ì„¤ì •

- ì›ë˜ ë§ˆìš´íŠ¸ ì§€ì ì—ì„œ VFS(ê°€ìƒ íŒŒì¼ ì‹œìŠ¤í…œ) ë…¸ë“œë¥¼ ìƒì„±
  - `mount --bind original-dir original-dir`
- ì›ë˜ ë§ˆìš´íŠ¸ ì§€ì ì„ ê³µìœ ë¡œ í‘œì‹œ
  - `mount --make-shared original-dir`
  - ì„ íƒí•œ ë§ˆìš´íŠ¸ ì§€ì ê³¼ ê·¸ ì•„ë˜ì˜ ëª¨ë“  ë§ˆìš´íŠ¸ ì§€ì ì— ëŒ€í•œ ë§ˆìš´íŠ¸ ìœ í˜•ì„ `ë³€ê²½`í•˜ë ¤ë©´ `--make-shared` ëŒ€ì‹  `--make-r shared` ì˜µì…˜ ì‚¬ìš©
- ì¤‘ë³µ ìƒì„±
  - `mount --bind original-dir dupulicate-dir`
- ì§€ìš°ê¸°
  - `sudo umount duplicate-dir`

# ì›ê²©ê³¼ ë¡œì»¬ ì‚¬ì´ íŒŒì¼ ë³µì‚¬

> `scp` ì‚¬ìš©. `scp [options] [source] [target]`

- ë¡œì»¬ì—ì„œ ì›ê²©ìœ¼ë¡œ
  - `scp [source_path] [User]@[IP]:[target_path]`
  - `scp /media/avery/source/test.txt avery@xxx.xx.x.xxx:mnt/`
- ì›ê²©ì—ì„œ ë¡œì»¬ë¡œ
  - `scp [User]@[IP]:[source_path] [target_path]`
  - `scp avery@xxx.xx.x.xxx:mnt/test.txt /home/avery/Documents`
- ì›ê²©(A User)ì—ì„œ ì›ê²©(B User)ìœ¼ë¡œ
  - `scp [User]@[IP]:[source_path] [User]@[IP]:[target_path]`
  - `scp ai@xxx.xx.x.xxx:mnt/test.txt avery@xxx.xx.x.xxx:/home/avery/Documents`
- ë³µìˆ˜ì˜ íŒŒì¼ ì „ì†¡
  - ì—¬ëŸ¬ ê²½ë¡œë¥¼ `" "`ì„ ì´ìš©í•˜ì—¬ ë¬¶ì–´ì¤Œ
  - `scp [options] [User]@[IP]:"[file_1] [file_2]" [target_path]`
- Options
  - `-r`: í´ë”ë¥¼ ë³µì‚¬í•  ë•Œ ì‚¬ìš©(ì „ì†¡ ëŒ€ìƒì„ í´ë”ë¡œ ì§€ì •). ëª¨ë“  í´ë”ë“¤ì„ ì¬ê·€ì ìœ¼ë¡œ ë³µì‚¬
  - `-P`: ssh í¬íŠ¸ ì§€ì •
  - `-i`: identity fileì„ ì§€ì •í•´ì„œ ì‚¬ìš©
  - `-v`: ìƒì„¸ ë‚´ìš©ì„ ë³´ë©´ì„œ ë””ë²„ê¹…í•  ë•Œ ì‚¬ìš©
  - `-p`: ì „ì†¡ ì‹œ íŒŒì¼ì˜ ìˆ˜ì • ì‹œê°„ê³¼ ê¶Œí•œì„ ìœ ì§€

# `.cache` ìš©ëŸ‰ í•´ê²°

- pipì™€ condaì˜ .cache ì‚­ì œ

```
#pip
pip cache purge

#conda
conda clean -a
```

- `.cache` ìœ„ì¹˜ ë³€ê²½

```
# .bashrcë¥¼ vimìœ¼ë¡œ ì—´ì–´ì„œ ì•„ë˜ ë³€ìˆ˜ë¥¼ ì¶”ê°€í•˜ê¸°
export XDG_CACHE_HOME="/{disk_location}/{user_name}/.cache"

# í•´ë‹¹ ê²½ë¡œ ìƒì„±í•˜ê¸°
mkdir -p /{disk_location}/{user_name}/.cache
```

# vim í¸ì§‘

- `:%d`: ì „ì²´ ë‚´ìš© ì‚­ì œ (press Esc to ensure youâ€™re in Normal mode first)
- `i` ì…ë ¥ í›„, `Ctrl + Shift + v`: ìƒˆë¡œìš´ ë‚´ìš© ë¶™ì—¬ë„£ê¸°
- `:wq`: ì €ì¥
- Normal mode shortcuts:
  - `gg` (go to the first line of the file)
  - `dG` (delete from current line to the end of the file)

# python module ê²½ë¡œ íŒŒì•…
```
import module
print(module.__file__)
```



